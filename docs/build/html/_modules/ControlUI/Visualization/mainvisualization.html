
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ControlUI.Visualization.mainvisualization &#8212; Infinity-Tomographic-Reconstruction 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/ControlUI/Visualization/mainvisualization';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="Infinity-Tomographic-Reconstruction 0.1.0 documentation - Home"/>
    <img src="../../../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Infinity-Tomographic-Reconstruction 0.1.0 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../modules.html">
    src
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../modules.html">
    src
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">Module code</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">ControlUI.Visualization.mainvisualization</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <h1>Source code for ControlUI.Visualization.mainvisualization</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtWidgets</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">ndimage</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">vtk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vtk.qt.QVTKRenderWindowInteractor</span><span class="w"> </span><span class="kn">import</span> <span class="n">QVTKRenderWindowInteractor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.mouseobserver_main</span><span class="w"> </span><span class="kn">import</span> <span class="n">MouseObserverMainWindow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.typeofviews</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewPortBorder</span><span class="p">,</span> <span class="n">ViewPortSelected</span>


<div class="viewcode-block" id="PopulateMainWindowVTK">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PopulateMainWindowVTK</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span> <span class="o">=</span> <span class="n">QVTKRenderWindowInteractor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">main_frame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">setHorizontalSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">setVerticalSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initializeQtButtonsOverMainWindow</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">interactorMainWindow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">GetInteractor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyle3D</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkInteractorStyleTrackballCamera</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyle3D</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;MouseMoveEvent&quot;</span><span class="p">,</span>
                                           <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">MouseMoveCallback</span><span class="p">(</span>
                                                <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">))</span>
        <span class="c1"># self.interactorMainWindow.SetInteractorStyle(self.interactorStyle3D)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkInteractorStyleImage</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">SetInteractionModeToImageSlicing</span><span class="p">()</span>

        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleRubberBand3D()</span>
        <span class="c1"># self.interactorStyleImage = vtk.vtkInteractorStyleRubberBand2D()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleAreaSelectHover()</span>
        <span class="c1"># self.interactorStyleImage = vtk.vtkInteractorStyleDrawPolygon()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleRubberBand3D()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleSwitch()</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().GetInteractor().SetInteractorStyle(interactorStyleImage)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorMainWindow</span><span class="o">.</span><span class="n">SetInteractorStyle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;MouseMoveEvent&quot;</span><span class="p">,</span>
                                              <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">MouseMoveCallback</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span>
                                                                                                           <span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;RightButtonPressEvent&quot;</span><span class="p">,</span>
                                              <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">ButtonCallback</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span>
                                                                                                        <span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;RightButtonReleaseEvent&quot;</span><span class="p">,</span>
                                              <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">ButtonCallback</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span>
                                                                                                        <span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;MouseWheelForwardEvent&quot;</span><span class="p">,</span>
                                              <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">wheelForwardCallback</span><span class="p">(</span>
                                                                                                              <span class="n">obj</span><span class="p">,</span>
                                                                                                              <span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorStyleImage</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;MouseWheelBackwardEvent&quot;</span><span class="p">,</span>
                                              <span class="k">lambda</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mouseObserverMainWindow</span><span class="o">.</span><span class="n">wheelForwardCallback</span><span class="p">(</span>
                                                                                                              <span class="n">obj</span><span class="p">,</span>
                                                                                                              <span class="n">event</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interactorMainWindow</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WheelFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Scanning View&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;orientation&quot;</span><span class="p">:</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;active_areas&quot;</span><span class="p">:</span> <span class="p">{},</span>
                                   <span class="s2">&quot;number_of_views&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                   <span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                   <span class="s2">&quot;xmins&quot;</span><span class="p">:</span> <span class="p">[],</span>
                                   <span class="s2">&quot;xmaxs&quot;</span><span class="p">:</span> <span class="p">[],</span>
                                   <span class="s2">&quot;ymins&quot;</span><span class="p">:</span> <span class="p">[],</span>
                                   <span class="s2">&quot;ymaxs&quot;</span><span class="p">:</span> <span class="p">[]</span>
                                   <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">actionmain_window3d_and_3planes_vertical</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Scanning View&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;horizontal&quot;</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">actionmain_window3d_and_3planes_horizontal</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Scanning View&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;horizontal&quot;</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">actionall_planes_view</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Cutted volume view&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;horizontal&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_one_view</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_two_views</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_three_views</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;active_areas&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;area_3D&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action3D_viewPort</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
                                                   <span class="s2">&quot;axial&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_mice_axial_viewport</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
                                                   <span class="s2">&quot;coronal&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_mice_coronal_viewport</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
                                                   <span class="s2">&quot;sagittal&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action_mice_sagittal_viewport</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
                                                   <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">active_areas</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">area</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;active_areas&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">area</span><span class="p">:</span>
                <span class="n">active_areas</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;active_areas&quot;</span><span class="p">][</span><span class="s2">&quot;area_3D&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">active_areas</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span>
                <span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Scanning View&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;vertical&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">action3D_viewPort</span><span class="o">.</span><span class="n">isChecked</span><span class="p">:</span>
                    <span class="n">percentage_of_3D_occupancy</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">xmins</span> <span class="o">=</span> <span class="p">[</span><span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span>
                    <span class="n">xmins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="n">xmaxs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span>
                    <span class="n">xmaxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">ymins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span>
                    <span class="n">ymaxs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]</span>
                    <span class="n">x_m</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="n">y_m</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_active_renderers&quot;</span><span class="p">]):</span>
                        <span class="n">xmins</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">x_m</span> <span class="o">-</span> <span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> \
                                   <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span>
                        <span class="n">xmaxs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">x_m</span> <span class="o">-</span> <span class="n">percentage_of_3D_occupancy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> \
                                   <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;number_of_views&quot;</span><span class="p">]</span>
                        <span class="n">ymins</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_m</span> <span class="o">/</span> <span class="p">(</span><span class="n">active_areas</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="n">ymaxs</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">active_areas</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

                        <span class="n">y_m</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="n">active_areas</span><span class="p">:</span>
                            <span class="n">y_m</span> <span class="o">=</span> <span class="mi">0</span>
                            <span class="n">x_m</span> <span class="o">+=</span> <span class="mi">1</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xmins</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmaxs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xmaxs</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ymins</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymaxs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ymaxs</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;orientation&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
                <span class="n">begin_y</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">5</span>
                <span class="n">ymins</span> <span class="o">=</span> <span class="p">[</span><span class="n">begin_y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">begin_y</span><span class="p">,</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">5</span><span class="p">]</span>
                <span class="n">ymaxs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">begin_y</span><span class="p">,</span> <span class="n">begin_y</span><span class="p">,</span> <span class="n">begin_y</span><span class="p">,</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">xmins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">]</span>
                <span class="n">xmaxs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xmins</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmaxs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xmaxs</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymins&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ymins</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymaxs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ymaxs</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Cutted volume view&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cutted_volumw_view&#39;</span><span class="p">)</span>

        <span class="n">border_colors</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span> <span class="o">=</span>  <span class="p">[</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkRenderer</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmins&quot;</span><span class="p">]))]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># self.list_populated_windows = [lambda i: self._initialize_3D_window(self, i),</span>
        <span class="c1">#                                lambda i: self._initialize_cuts_volume_port_view(self, i,</span>
        <span class="c1">#                                                                                 &#39;axial&#39;),</span>
        <span class="c1">#                                lambda i: self._initialize_cuts_volume_port_view(self, i,</span>
        <span class="c1">#                                                                                 &#39;coronal&#39;),</span>
        <span class="c1">#                                lambda i: self._initialize_cuts_volume_port_view(self, i,</span>
        <span class="c1">#                                                                                 &#39;sagital&#39;),</span>
        <span class="c1">#                                lambda i: self._initialize_easypetbed_camera(self, i),</span>
        <span class="c1">#                                lambda i: self._initialize_easypetbed_camera(self, i)]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmins&quot;</span><span class="p">])):</span>
            <span class="c1"># if self.info_type_of_views[self.type_view_selected[&quot;type&quot;]][&quot;renderer_area_3D&quot;] is None:</span>
            <span class="c1">#     self.info_type_of_views[self.type_view_selected[&quot;type&quot;]][&quot;renderer_area_3D&quot;] = vtk.vtkRenderer()</span>
            <span class="c1"># self.listOfRenderers[i] = vtk.vtkRenderer()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">SetViewport</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmins&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymins&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;xmaxs&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">type_view_selected</span><span class="p">[</span><span class="s2">&quot;ymaxs&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>

            <span class="n">v</span><span class="o">=</span><span class="n">ViewPortBorder</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">border_colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                           <span class="n">points_coordinates</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">v</span><span class="o">.</span><span class="n">updateViewPortBorder</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">AddRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="c1"># PopulateMainWindowVTK._initialize_plot_vital_signals(self,2)</span>

        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">axes_widget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_3D</span><span class="p">]</span> <span class="o">=</span> <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">design_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># PopulateMainWindowVTK._changeto_slicedviews(self)</span>
        <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">camera_initial_position</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">number_max_acceptted_volumes</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="n">my_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">number_max_acceptted_volumes</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumesInMain</span> <span class="o">=</span> <span class="p">{</span><span class="n">item</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Scanning_name&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                     <span class="s2">&quot;PET&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                     <span class="s2">&quot;Attenuation_volume&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                     <span class="s2">&quot;Detector_sensibility&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>

                                     <span class="p">}</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span> <span class="o">=</span> <span class="p">{</span><span class="n">item</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Scanning_name&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s2">&quot;PET_axial&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s2">&quot;PET_coronal&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s2">&quot;PET_sagittal&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>

                                   <span class="p">}</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">}</span>
        <span class="c1"># self.listOfRenderers[0].AddActor(self.axes_3D)</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().GetInteractor().SetRenderWindow(self.vtkWidget.GetRenderWindow())</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().Render()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initializeQtButtonsOverMainWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2bottom_toolbutton</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                                <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2right_toolbutton</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2left_toolbutton</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2top_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                                <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">resetcamera_toolButton</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_cameramiddlebuttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_cameramiddlebuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2back_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_cameramiddlebuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">changecamera2front_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_cameramiddlebuttons</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_camerabuttons</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">movebed_to_begin_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">movebed_backward_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">movebed_foward_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">movebed_to_end_toolbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">emergency_stop_bed_tool_button</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gridlayout_bedbuttons</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">turn_on_camera_toolbutton</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">main_frame</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layout_vtk_main_window</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_3D_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_renderer</span><span class="p">):</span>
        <span class="n">x_comum</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">356.44</span> <span class="o">-</span> <span class="mi">347</span> <span class="o">+</span> <span class="mi">347</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">y_comum</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">55.33</span> <span class="o">+</span> <span class="mi">347</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">z_comum</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">370</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">51.07</span> <span class="o">+</span> <span class="mi">165</span><span class="p">)</span>  <span class="c1"># (center_z+offset_solid+realdistance</span>
        <span class="c1"># [self.axes_widget, self.axes_3D] = self.design_axes(self, renderInteractor)</span>
        <span class="c1"># [self.scalar_bar_widget, self.scalar_bar_actor] = self.design_scalar_bar(self,</span>
        <span class="c1">#                                                                                      colorTransferFunction,</span>
        <span class="c1">#                                                                                      renderInteractor)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bed_inside_part_actor</span> <span class="o">=</span> <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">design_stl_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;bed_inside&#39;</span><span class="p">,</span>
                                                                           <span class="n">translate_x</span><span class="o">=</span><span class="n">x_comum</span> <span class="o">+</span> <span class="mi">160</span><span class="p">,</span>
                                                                           <span class="n">translate_y</span><span class="o">=</span><span class="n">y_comum</span> <span class="o">+</span> <span class="mi">205</span><span class="p">,</span>
                                                                           <span class="n">translate_z</span><span class="o">=</span><span class="n">z_comum</span> <span class="o">+</span> <span class="mi">240</span><span class="p">,</span>
                                                                           <span class="n">rotate_x</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">rotate_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rotate_z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                           <span class="n">color_actor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
                                                                           <span class="n">opacity_actor</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">easypet_box_device_actor</span> <span class="o">=</span> <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">design_stl_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Assem - frente_box-1&#39;</span><span class="p">,</span>
                                                                              <span class="n">translate_x</span><span class="o">=</span><span class="n">x_comum</span><span class="p">,</span>
                                                                              <span class="n">translate_y</span><span class="o">=</span><span class="n">y_comum</span><span class="p">,</span>
                                                                              <span class="n">translate_z</span><span class="o">=</span><span class="n">z_comum</span><span class="p">,</span>
                                                                              <span class="n">rotate_x</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">rotate_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rotate_z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                              <span class="n">color_actor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
                                                                              <span class="n">opacity_actor</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection2wall_device_actor</span> <span class="o">=</span> <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">design_stl_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Assem - connection2wall-1&#39;</span><span class="p">,</span>
                                                                                  <span class="n">translate_x</span><span class="o">=</span><span class="n">x_comum</span><span class="p">,</span>
                                                                                  <span class="n">translate_y</span><span class="o">=</span><span class="n">y_comum</span><span class="p">,</span>
                                                                                  <span class="n">translate_z</span><span class="o">=</span><span class="n">z_comum</span><span class="p">,</span>
                                                                                  <span class="n">rotate_x</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">rotate_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                  <span class="n">rotate_z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                                                  <span class="n">color_actor</span><span class="o">=</span><span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">],</span>
                                                                                  <span class="n">opacity_actor</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>

        <span class="c1"># self.foots_stl = [None] * 4</span>
        <span class="c1"># file_name_foot = [&#39;Assem - foot_easypet-1&#39;, &#39;Assem - foot_easypet-2&#39;, &#39;Assem - foot_easypet-3&#39;,</span>
        <span class="c1">#                   &#39;Assem - foot_easypet-4&#39;]</span>
        <span class="c1"># self.phantom_parts = [None] * 3</span>
        <span class="c1"># phantom_parts_name = [&#39;Phantom_final - PhantomNEMA-1&#39;, &#39;Phantom_final - tampaNEMA_Top-1&#39;,</span>
        <span class="c1">#                       &#39;Phantom_final - tampaNEMA-1&#39;]</span>
        <span class="c1"># for i in range(0, len(self.foots_stl)):</span>
        <span class="c1">#     self.foots_stl[i] = PopulateMainWindowVTK.design_stl_file(self, file_name_foot[i], translate_x=x_comum,</span>
        <span class="c1">#                                                          translate_y=y_comum, translate_z=z_comum,</span>
        <span class="c1">#                                                          rotate_x=90, rotate_y=0, rotate_z=0,</span>
        <span class="c1">#                                                          color_actor=[0.4, 0.4, 0.4], opacity_actor=0.5)</span>
        <span class="c1">#     if i &lt; 3:</span>
        <span class="c1">#         self.phantom_parts[i] = PopulateMainWindowVTK.design_stl_file(self, phantom_parts_name[i],</span>
        <span class="c1">#                                                                  translate_x=x_comum + 165,</span>
        <span class="c1">#                                                                  translate_y=y_comum + 214,</span>
        <span class="c1">#                                                                  translate_z=z_comum + 370 / 2 + 51.70 + 165 - 85,</span>
        <span class="c1">#                                                                  rotate_x=90, rotate_y=0, rotate_z=0,</span>
        <span class="c1">#                                                                  color_actor=[0.95, 0.9, 0.95],</span>
        <span class="c1">#                                                                  opacity_actor=0.6)</span>
        <span class="c1">#         self.listOfRenderers[i].AddActor(self.phantom_parts[i])</span>
        <span class="c1">#     self.listOfRenderers[i].AddActor(self.foots_stl[i])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">number_renderer</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bed_inside_part_actor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">number_renderer</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">easypet_box_device_actor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">number_renderer</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection2wall_device_actor</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_plot_vital_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_renderer</span><span class="p">):</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkContextView</span><span class="p">()</span>

        <span class="c1"># view.SetRenderWindow(self.vtkWidget.GetRenderWindow())</span>
        <span class="c1"># view.SetInteractor(self.vtkWidget.GetRenderWindow().GetInteractor())</span>
        <span class="c1"># self.vtkWidget.SetRenderWindow(view.GetRenderWindow())</span>

        <span class="c1">#</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="n">number_renderer</span><span class="p">]</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">GetRenderer</span><span class="p">()</span>

        <span class="c1"># self.vtkWidget.GetRenderWindow().AddRenderer(view.GetRenderer())</span>
        <span class="c1"># .SetBackground(1.0, 1.0, 1.0)</span>

        <span class="c1"># view.GetRenderWindow().SetSize(400, 300)</span>
        <span class="c1"># view.SetInteractor(self.vtkWidget.GetRenderWindow().GetInteractor())</span>
        <span class="n">chart</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkChartXY</span><span class="p">()</span>

        <span class="c1"># self.listOfRenderers[1].Add(view)</span>
        <span class="c1"># vtk.vtkRenderer().AddActor(chart)</span>
        <span class="c1"># view=self.vtkWidget.GetRenderWindow().GetGenericContext()</span>
        <span class="c1"># view.GAddItem(chart)</span>
        <span class="n">view</span><span class="o">.</span><span class="n">GetScene</span><span class="p">()</span><span class="o">.</span><span class="n">AddItem</span><span class="p">(</span><span class="n">chart</span><span class="p">)</span>
        <span class="n">chart</span><span class="o">.</span><span class="n">SetShowLegend</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTable</span><span class="p">()</span>

        <span class="n">arrX</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFloatArray</span><span class="p">()</span>
        <span class="n">arrX</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="s1">&#39;X Axis&#39;</span><span class="p">)</span>

        <span class="n">arrC</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFloatArray</span><span class="p">()</span>
        <span class="n">arrC</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="s1">&#39;Cosine&#39;</span><span class="p">)</span>

        <span class="n">arrS</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFloatArray</span><span class="p">()</span>
        <span class="n">arrS</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="s1">&#39;Sine&#39;</span><span class="p">)</span>

        <span class="n">arrT</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFloatArray</span><span class="p">()</span>
        <span class="n">arrT</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="s1">&#39;Sine-Cosine&#39;</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">AddColumn</span><span class="p">(</span><span class="n">arrC</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">AddColumn</span><span class="p">(</span><span class="n">arrS</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">AddColumn</span><span class="p">(</span><span class="n">arrX</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">AddColumn</span><span class="p">(</span><span class="n">arrT</span><span class="p">)</span>

        <span class="n">numPoints</span> <span class="o">=</span> <span class="mi">40</span>

        <span class="n">inc</span> <span class="o">=</span> <span class="mf">7.5</span> <span class="o">/</span> <span class="p">(</span><span class="n">numPoints</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">SetNumberOfRows</span><span class="p">(</span><span class="n">numPoints</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numPoints</span><span class="p">):</span>
            <span class="n">table</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">))</span>
            <span class="n">table</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">))</span>
            <span class="n">table</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">))</span>

        <span class="n">points</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">AddPlot</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkChart</span><span class="o">.</span><span class="n">POINTS</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetWidth</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetMarkerStyle</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlotPoints</span><span class="o">.</span><span class="n">CROSS</span><span class="p">)</span>

        <span class="n">points</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">AddPlot</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkChart</span><span class="o">.</span><span class="n">POINTS</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetWidth</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetMarkerStyle</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlotPoints</span><span class="o">.</span><span class="n">PLUS</span><span class="p">)</span>

        <span class="n">points</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">AddPlot</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkChart</span><span class="o">.</span><span class="n">POINTS</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetWidth</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetMarkerStyle</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlotPoints</span><span class="o">.</span><span class="n">CIRCLE</span><span class="p">)</span>
        <span class="c1"># view.GetInteractor().Initialize()</span>
        <span class="c1"># view.GetInteractor().Start()</span>
        <span class="c1">#</span>
        <span class="c1"># tt=view.GetRenderWindow()</span>
        <span class="c1"># self.vtkWidget.setRenderWindow(tt)</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().AddRenderer(view.GetRenderer())</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().Render()</span>
        <span class="c1">#</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.addNewDataToCurrentView">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.addNewDataToCurrentView">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">addNewDataToCurrentView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dicomReader</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># Defining colormap and opacity distribution</span>
        <span class="c1"># volume = ndimage.median_filter(volume, 5)</span>

        <span class="p">[</span><span class="n">colorTransferFunction</span><span class="p">,</span> <span class="n">alphaChannelFunc</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_applyColorAndOpacityMap</span><span class="p">(</span><span class="n">dicomReader</span><span class="o">=</span><span class="n">dicomReader</span><span class="p">)</span>
        <span class="c1"># put conditions to the type of the current view</span>

        <span class="c1"># maximum = int(np.max(data3D))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addNewVolumeVtkWindow</span><span class="p">(</span><span class="n">colorTransferFunction</span><span class="p">,</span> <span class="n">alphaChannelFunc</span><span class="p">,</span> <span class="n">dicomReader</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addNewCutPlanesVtkWindow</span><span class="p">(</span><span class="n">cutted_plane</span><span class="o">=</span><span class="s2">&quot;axial&quot;</span><span class="p">,</span>
                                      <span class="n">colorTransferFunction</span><span class="o">=</span><span class="n">colorTransferFunction</span><span class="p">,</span>
                                      <span class="n">dicomReader</span><span class="o">=</span><span class="n">dicomReader</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addNewCutPlanesVtkWindow</span><span class="p">(</span><span class="n">cutted_plane</span><span class="o">=</span><span class="s2">&quot;coronal&quot;</span><span class="p">,</span>
                                      <span class="n">colorTransferFunction</span><span class="o">=</span><span class="n">colorTransferFunction</span><span class="p">,</span>
                                      <span class="n">dicomReader</span><span class="o">=</span><span class="n">dicomReader</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addNewCutPlanesVtkWindow</span><span class="p">(</span><span class="n">cutted_plane</span><span class="o">=</span><span class="s2">&quot;sagittal&quot;</span><span class="p">,</span>
                                      <span class="n">colorTransferFunction</span><span class="o">=</span><span class="n">colorTransferFunction</span><span class="p">,</span>
                                      <span class="n">dicomReader</span><span class="o">=</span><span class="n">dicomReader</span><span class="p">)</span>
        <span class="n">renderWin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span>
        <span class="n">renderInteractor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">GetInteractor</span><span class="p">()</span>
        <span class="n">renderInteractor</span><span class="o">.</span><span class="n">Initialize</span><span class="p">()</span>
        <span class="c1"># # Because nothing will be rendered without any input, we order the first render manually before control is handed over to the main-loop.</span>
        <span class="n">renderWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_removeDataToCurrentView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># Defining colormap a   nd opacity distribution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_volume_pet_vtk_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_data_cut_planes_vtk_window</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_applyColorAndOpacityMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dicomReader</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;LOADING COLOR AND OPACITY MAP&#39;</span><span class="p">)</span>
        <span class="n">colormap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">color_map_3D_views</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">colortable_comboBox</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()]</span>

        <span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="s1">&#39;colormap_files&#39;</span><span class="p">)</span>

        <span class="n">volume</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageData</span><span class="p">()</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">ShallowCopy</span><span class="p">(</span><span class="n">dicomReader</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
        <span class="c1"># path = dir + &quot;/colormap_files/&quot;</span>
        <span class="c1"># z_pos = volume.shape[2]</span>
        <span class="c1"># data3D = volume</span>
        <span class="c1"># #  Volume inversion</span>
        <span class="c1"># data3D = np.flip(data3D, axis=2)</span>
        <span class="c1"># # try:</span>
        <span class="c1"># #     self.ren_volume.RemoveVolume(self.Volume4VTK)</span>
        <span class="c1"># # except AttributeError:</span>
        <span class="c1"># #     print(&#39;no volume yet&#39;)</span>
        <span class="c1"># # if init is False:</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.axial_line)</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.coronal_line)</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.sagittal_line)</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.sagittal)</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.coronal)</span>
        <span class="c1"># #     self.ren_volume.RemoveActor(self.axial)</span>
        <span class="c1">#</span>
        <span class="c1"># size = data3D.shape</span>
        <span class="c1"># w = size[0]</span>
        <span class="c1"># h = size[1]</span>
        <span class="c1"># d = size[2]</span>
        <span class="c1"># image_shape=size</span>
        <span class="c1"># stack = np.zeros((w, d, h))</span>
        <span class="c1">#</span>
        <span class="c1"># for j in range(0, z_pos):</span>
        <span class="c1">#     stack[:, j, :] = data3D[:, :, j]</span>
        <span class="c1">#</span>
        <span class="c1"># stack = np.require(stack, dtype=np.float32)  # stack = np.require(data3D,dtype=np.uint16)</span>
        <span class="c1"># normalize_colormap = np.max(volume)</span>
        <span class="c1"># # start_color = int(abs(self.rs2.max() - self.rs2.end()) * 10.24)</span>
        <span class="c1"># # end_color = int(abs(self.rs2.max() - self.rs2.start()) * 10.24)</span>
        <span class="c1">#</span>
        <span class="n">start_color</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">10.24</span><span class="p">)</span>
        <span class="n">end_color</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mf">10.24</span><span class="p">)</span>
        <span class="c1">#</span>
        <span class="c1"># # --------IMPORT DATA-----------------</span>
        <span class="c1">#</span>
        <span class="c1"># dataImporter = vtk.vtkImageImport()</span>
        <span class="c1"># # The preaviusly created array is converted to a string of chars and imported.</span>
        <span class="c1"># data_string = stack.tostring()</span>
        <span class="c1"># dataImporter.CopyImportVoidPointer(data_string, len(data_string))</span>
        <span class="c1"># # dataImporter.SetDataScalarTypeToUnsignedShort()</span>
        <span class="c1"># dataImporter.SetDataScalarTypeToFloat()</span>
        <span class="c1"># dataImporter.SetDataSpacing(pixel_size_reconstruct_file[0], pixel_size_reconstruct_file[2],</span>
        <span class="c1">#                             pixel_size_reconstruct_file[1])</span>
        <span class="c1"># print(&#39;pixel_size{}&#39;.format(dataImporter.GetDataSpacing()))</span>
        <span class="c1"># # Because the data that is imported only contains an intensity value (it isnt RGB-coded or someting similar), the importer</span>
        <span class="c1"># # must be told this is the case.</span>
        <span class="c1"># dataImporter.SetNumberOfScalarComponents(1)</span>
        <span class="c1"># # ---------------STORE DATA-------------------------------</span>
        <span class="c1"># dataImporter.SetDataExtent(0, w - 1, 0, d - 1, 0, h - 1)</span>
        <span class="c1"># dataImporter.SetWholeExtent(0, w - 1, 0, d - 1, 0, h - 1)</span>
        <span class="c1"># # dataImporter.SetTransform(transL1)</span>
        <span class="c1">#</span>
        <span class="c1"># # -----------------------Scalar range-------------</span>
        <span class="c1"># dataImporter.Update()</span>

        <span class="c1"># -----------------------------------------------------------</span>
        <span class="c1"># The following class is used to store transparencyv-values for later retrival. In our case, we want the value 0 to be</span>
        <span class="c1"># completly opaque whereas the three different cubes are given different transperancy-values to show how it works.</span>
        <span class="n">alphaChannelFunc</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPiecewiseFunction</span><span class="p">()</span>
        <span class="n">colorTransferFunction</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkColorTransferFunction</span><span class="p">()</span>
        <span class="n">colorTransferFunction</span><span class="o">.</span><span class="n">SetColorSpaceToRGB</span><span class="p">()</span>

        <span class="c1"># ----------------OPACITYMAP-----------------------------</span>

        <span class="c1"># http://www.kennethmoreland.com/color-advice/</span>
        <span class="n">scalarRange</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">GetScalarRange</span><span class="p">()</span>
        <span class="n">normalize_colormap</span> <span class="o">=</span> <span class="n">scalarRange</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.cl&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">colormap</span><span class="p">))</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
        <span class="c1"># bins, res = np.histogram(stack.ravel(), len(reader), (stack.min(), stack.max()))</span>
        <span class="c1"># res2 = np.interp(res, [stack.min(), stack.max()], [0, 1])</span>
        <span class="c1"># opacitymap = np.vstack((res, res2)).T</span>
        <span class="c1"># opacitymap = opacitymap.astype(&#39;float32&#39;)</span>

        <span class="n">increment_color</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">reader</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="n">start_color</span><span class="p">:</span>
                <span class="n">colorTransferFunction</span><span class="o">.</span><span class="n">AddRGBPoint</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">normalize_colormap</span><span class="p">,</span>
                                                  <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]))</span>

            <span class="k">elif</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="n">end_color</span><span class="p">:</span>
                <span class="n">colorTransferFunction</span><span class="o">.</span><span class="n">AddRGBPoint</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">normalize_colormap</span><span class="p">,</span>
                                                  <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">increment_color</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span> <span class="o">/</span> <span class="nb">abs</span><span class="p">(</span><span class="n">start_color</span> <span class="o">-</span> <span class="n">end_color</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">increment_color</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">reader</span><span class="p">):</span>
                        <span class="n">colorTransferFunction</span><span class="o">.</span><span class="n">AddRGBPoint</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">normalize_colormap</span><span class="p">,</span>
                                                          <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">increment_color</span><span class="p">,</span> <span class="mi">0</span><span class="p">))][</span><span class="mi">1</span><span class="p">]),</span>
                                                          <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">increment_color</span><span class="p">,</span> <span class="mi">0</span><span class="p">))][</span><span class="mi">2</span><span class="p">]),</span>
                                                          <span class="nb">float</span><span class="p">(</span><span class="n">reader</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">increment_color</span><span class="p">,</span> <span class="mi">0</span><span class="p">))][</span><span class="mi">3</span><span class="p">]))</span>
                <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="n">alphaChannelFunc</span><span class="o">.</span><span class="n">AddPoint</span><span class="p">(</span><span class="n">scalarRange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">alphaChannelFunc</span><span class="o">.</span><span class="n">AddPoint</span><span class="p">(</span><span class="n">scalarRange</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;END LOADING COLOR AND OPACITY MAP&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">colorTransferFunction</span><span class="p">,</span> <span class="n">alphaChannelFunc</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.remove_volume_pet_vtk_window">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.remove_volume_pet_vtk_window">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">remove_volume_pet_vtk_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumesInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">RemoveVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></div>


<div class="viewcode-block" id="PopulateMainWindowVTK.remove_data_cut_planes_vtk_window">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.remove_data_cut_planes_vtk_window">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">remove_data_cut_planes_vtk_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">actor_axial</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_axial&#39;</span><span class="p">]</span>
        <span class="n">actor_coronal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_coronal&#39;</span><span class="p">]</span>
        <span class="n">actor_sagittal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_sagittal&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">actor_axial</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">actor_coronal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">actor_sagittal</span><span class="p">)</span></div>


<div class="viewcode-block" id="PopulateMainWindowVTK.addNewVolumeVtkWindow">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.addNewVolumeVtkWindow">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">addNewVolumeVtkWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colorTransferFunction</span><span class="p">,</span> <span class="n">alphaChannelFunc</span><span class="p">,</span> <span class="n">vtkImageReader</span><span class="p">,</span>
                              <span class="n">pixel_size_reconstruct_file</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]):</span>
        <span class="c1"># dataImporter.pixel</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NEW Volume&quot;</span><span class="p">)</span>
        <span class="c1"># dataImporter.GetScalarRange()</span>
        <span class="c1"># pixel_size_reconstruct_file =dataImporter.GetPixelSpacing()</span>
        <span class="c1"># w = image_shape[0]</span>
        <span class="c1"># h = image_shape[1]</span>
        <span class="c1"># d = image_shape[2]</span>
        <span class="c1"># The preavius two classes stored properties. Because we want to apply these properties to the volume we want to render,</span>
        <span class="c1"># we have to store them in a class that stores volume prpoperties.</span>
        <span class="n">volumeProperty</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkVolumeProperty</span><span class="p">()</span>
        <span class="n">volumeProperty</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="n">colorTransferFunction</span><span class="p">)</span>
        <span class="n">volumeProperty</span><span class="o">.</span><span class="n">SetScalarOpacity</span><span class="p">(</span><span class="n">alphaChannelFunc</span><span class="p">)</span>

        <span class="c1"># volumeProperty.SetGradientOpacity(volumeGradientOpacity)</span>
        <span class="n">volumeProperty</span><span class="o">.</span><span class="n">SetInterpolationType</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">volumeProperty</span><span class="o">.</span><span class="n">SetAmbient</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># volumeProperty.SetDiffuse(0.1)</span>
        <span class="n">volumeProperty</span><span class="o">.</span><span class="n">SetSpecular</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="c1"># volumeProperty.ShadeOn()</span>

        <span class="c1"># This class describes how the volume is rendered (through ray tracing).</span>
        <span class="c1"># compositeFunction = vtk.vtkFixedPointVolumeRayCastCompositeFunction()</span>
        <span class="c1"># We can finally create our volume. We also have to specify the data for it, as well as how the data will be rendered.</span>
        <span class="c1"># smoothing_filter = vtk.vtkImageGaussianSmooth()</span>
        <span class="c1"># smoothing_filter.SetDimensionality(3)</span>
        <span class="c1"># smoothing_filter.SetInputConnection(dataImporter.GetOutputPort())</span>
        <span class="c1"># smoothing_filter.SetStandardDeviations(0.5, 0.5, 0.5)</span>
        <span class="c1"># smoothing_filter.SetRadiusFactors(0.25, 0.25, 0.25)</span>
        <span class="c1"># #dataImporter = smoothing_filter</span>
        <span class="c1"># volumeMapper = vtk.vtkFixedPointVolumeRayCastMapper()</span>
        <span class="n">volumeMapper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkGPUVolumeRayCastMapper</span><span class="p">()</span>
        <span class="n">volumeMapper</span><span class="o">.</span><span class="n">UseJitteringOn</span><span class="p">()</span>
        <span class="n">volumeMapper</span><span class="o">.</span><span class="n">SetSampleDistance</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="n">volumeMapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">vtkImageReader</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="c1"># Center volume accordingly with volume radius</span>
        <span class="n">FOV_trans</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
        <span class="c1"># FOV_trans.Translate(-w * pixel_size_reconstruct_file[0] / 2, 0,</span>
        <span class="c1">#                     -h * pixel_size_reconstruct_file[1] / 2)</span>
        <span class="n">FOV_trans</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="o">-</span><span class="n">vtkImageReader</span><span class="o">.</span><span class="n">GetWidth</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="o">-</span><span class="n">vtkImageReader</span><span class="o">.</span><span class="n">GetHeight</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1"># planeClipAxial = vtk.vtkPlane()</span>
        <span class="c1"># planeClipAxial.SetOrigin(w / 2, d / 2, h / 2)</span>
        <span class="c1"># planeClipAxial.SetNormal(0, -1, 0)</span>
        <span class="c1"># planeClipCoronal = vtk.vtkPlane()</span>
        <span class="c1"># planeClipCoronal.SetOrigin(w, d, h)</span>
        <span class="c1"># planeClipCoronal.SetNormal(0.0, 0, -1)</span>
        <span class="c1"># planeClipSagittal = vtk.vtkPlane()</span>
        <span class="c1"># planeClipSagittal.SetOrigin(w, d, h)</span>
        <span class="c1"># planeClipSagittal.SetNormal(-1, 0, 0)</span>
        <span class="c1"># self.planeClipAxial = planeClipAxial</span>
        <span class="c1"># self.planeClipCoronal = planeClipCoronal</span>
        <span class="c1"># self.planeClipSagittal = planeClipSagittal</span>

        <span class="c1"># volumeMapper.AddClippingPlane(planeClipAxial)</span>
        <span class="c1"># volumeMapper.AddClippingPlane(planeClipCoronal)</span>
        <span class="c1"># volumeMapper.AddClippingPlane(planeClipSagittal)</span>

        <span class="c1"># The class vtkVolume is used to pair the preaviusly declared volume as well as the properties to be used when rendering that volume.</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkVolume</span><span class="p">()</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">volumeMapper</span><span class="p">)</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">SetProperty</span><span class="p">(</span><span class="n">volumeProperty</span><span class="p">)</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">SetUserTransform</span><span class="p">(</span><span class="n">FOV_trans</span><span class="p">)</span>

        <span class="c1"># With almost everything else ready, its time to initialize the renderer and window, as well as creating a method for exiting the application</span>
        <span class="n">renderWin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span>
        <span class="n">renderInteractor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">GetInteractor</span><span class="p">()</span>

        <span class="c1"># Add Renderer to PYVTK window</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().AddRenderer(self.listOfRenderers[2])</span>
        <span class="n">renderInteractor</span><span class="o">.</span><span class="n">SetRenderWindow</span><span class="p">(</span><span class="n">renderWin</span><span class="p">)</span>
        <span class="c1"># We add the volume to the renderer ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">AddVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumesInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Scanning_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">selected_study</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumesInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="c1"># self.Volume4VTK = volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">SetBackground</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># black</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">scalar_bar_widget</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scalar_bar_actor</span><span class="p">]</span> <span class="o">=</span> <span class="n">PopulateMainWindowVTK</span><span class="o">.</span><span class="n">design_scalar_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                                                                                  <span class="n">colorTransferFunction</span><span class="p">,</span>
                                                                                                  <span class="n">renderInteractor</span><span class="p">)</span></div>


        <span class="c1"># # Create the planes</span>
        <span class="c1">#</span>
        <span class="c1"># display_axial = [[0, w], [int(d / 2), int(d / 2)], [0, h]]</span>
        <span class="c1"># [self.axial, self.axialplaneColors] = image_3D_handler.design_planes(self, dataImporter, colorTransferFunction,</span>
        <span class="c1">#                                                                      display_axial, FOV_trans)</span>
        <span class="c1">#</span>
        <span class="c1"># display_coronal = [[0, w], [0, d], [int(h / 2), int(h / 2)]]</span>
        <span class="c1"># [self.coronal, self.coronalplaneColors] = image_3D_handler.design_planes(self, dataImporter,</span>
        <span class="c1">#                                                                          colorTransferFunction, display_coronal,</span>
        <span class="c1">#                                                                          FOV_trans)</span>
        <span class="c1">#</span>
        <span class="c1"># display_sagittal = [[int(w / 2), int(w / 2)], [0, d], [0, h]]</span>
        <span class="c1"># [self.sagittal, self.sagittalplaneColors] = image_3D_handler.design_planes(self, dataImporter,</span>
        <span class="c1">#                                                                            colorTransferFunction,</span>
        <span class="c1">#                                                                            display_sagittal, FOV_trans)</span>
        <span class="c1">#</span>
        <span class="c1"># # Design borders of the planes</span>
        <span class="c1"># w = w * self.pixel_size_reconstruct_file[0]</span>
        <span class="c1"># h = h * self.pixel_size_reconstruct_file[1]</span>
        <span class="c1"># d = d * self.pixel_size_reconstruct_file[2]</span>
        <span class="c1">#</span>
        <span class="c1"># axial_coordinates = [[-w / 2, 0, -h / 2], [-w / 2, 0, h / 2], [w / 2, 0, h / 2],</span>
        <span class="c1">#                      [w / 2, 0, -h / 2 - 1]]</span>
        <span class="c1"># axial_color = [1, 0, 0]</span>
        <span class="c1">#</span>
        <span class="c1"># coronal_coordinates = [[-w / 2, 0, h / 2], [w / 2, 0, h / 2], [w / 2, d, h / 2],</span>
        <span class="c1">#                        [-w / 2, d, h / 2]]</span>
        <span class="c1">#</span>
        <span class="c1"># coronal_color = [0, 1, 0]</span>
        <span class="c1">#</span>
        <span class="c1"># sagittal_coordinates = [[0, 0, -h / 2], [0, d, -h / 2], [0, d, h / 2],</span>
        <span class="c1">#                         [0, 0, h / 2]]</span>
        <span class="c1"># sagittal_color = [1, 1, 0]</span>
        <span class="c1"># self.axial_line = image_3D_handler.design_plane_lines(self, axial_color, len(axial_coordinates),</span>
        <span class="c1">#                                                       axial_coordinates)</span>
        <span class="c1"># self.coronal_line = image_3D_handler.design_plane_lines(self, coronal_color, len(axial_coordinates),</span>
        <span class="c1">#                                                         coronal_coordinates)</span>
        <span class="c1"># self.sagittal_line = image_3D_handler.design_plane_lines(self, sagittal_color, len(sagittal_coordinates),</span>
        <span class="c1">#                                                          sagittal_coordinates)</span>
        <span class="c1">#</span>
        <span class="c1"># # Add actors to render window</span>
        <span class="c1">#</span>
        <span class="c1"># self.ren_volume.AddActor(self.axial_line)</span>
        <span class="c1"># self.ren_volume.AddActor(self.coronal_line)</span>
        <span class="c1"># self.ren_volume.AddActor(self.sagittal_line)</span>
        <span class="c1"># self.ren_volume.AddActor(self.sagittal)</span>
        <span class="c1"># self.ren_volume.AddActor(self.coronal)</span>
        <span class="c1"># self.ren_volume.AddActor(self.axial)</span>
        <span class="c1">#</span>
        <span class="c1">#</span>
        <span class="c1"># self.Volume4VTK.VisibilityOn()</span>
        <span class="c1"># self.sagittal.VisibilityOn()</span>
        <span class="c1"># self.coronal.VisibilityOn()</span>
        <span class="c1"># self.axial.VisibilityOn()</span>
        <span class="c1"># self.scalar_bar_actor.SetLookupTable(colorTransferFunction)</span>
        <span class="c1">#</span>
        <span class="c1"># # self.ren_volume.GetActiveCamera().Dolly(10)</span>
        <span class="c1">#</span>
        <span class="c1"># list_to_hide = [self.actionShowVolume, self.actionShowPlanes, self.actionShowAxial,</span>
        <span class="c1">#                 self.actionShowCoronal, self.actionShowSagittal, self.actionShowOrientationWidget,</span>
        <span class="c1">#                 self.actionShowLines, self.actionShowScalarBar, self.actionShow_beds_inside,</span>
        <span class="c1">#                 ]</span>
        <span class="c1">#</span>
        <span class="c1"># hide_show_element = [[self.Volume4VTK], [self.axial, self.coronal, self.sagittal], [self.axial], [self.coronal],</span>
        <span class="c1">#                      [self.sagittal], [self.axes_3D], [self.axial_line, self.coronal_line, self.sagittal_line],</span>
        <span class="c1">#                      [self.scalar_bar_actor], [self.bed_inside_part_actor]]</span>
        <span class="c1"># for action in range(len(list_to_hide)):</span>
        <span class="c1">#     if not list_to_hide[action].isChecked():</span>
        <span class="c1">#         for i in range(len(hide_show_element[action])):</span>
        <span class="c1">#             hide_show_element[action][i].VisibilityOff()</span>
        <span class="c1">#</span>
        <span class="c1"># self.renderWin = renderWin</span>
        <span class="c1"># PopulateMainWindowVTK.camera_initial_position(self)</span>

        <span class="c1"># renderInteractor.Initialize()</span>
        <span class="c1"># # Because nothing will be rendered without any input, we order the first render manually before control is handed over to the main-loop.</span>
        <span class="c1"># renderWin.Render()</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.addNewCutPlanesVtkWindow">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.addNewCutPlanesVtkWindow">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">addNewCutPlanesVtkWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutted_plane</span><span class="o">=</span><span class="s2">&quot;axial&quot;</span><span class="p">,</span> <span class="n">colorTransferFunction</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                 <span class="n">dicomReader</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># if colorTransferFunction or dataImporter is None:</span>
        <span class="c1">#     return</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NEW cut&quot;</span><span class="p">)</span>
        <span class="c1"># (xMin, xMax, zMin, zMax, yMin, yMax) = dataImporter.GetExecutive().GetWholeExtent(</span>
        <span class="c1">#     dataImporter.GetOutputInformation(0))</span>
        <span class="c1"># (xSpacing, ySpacing, zSpacing) = dataImporter.GetOutput().GetSpacing()</span>
        <span class="c1"># (x0, y0, z0) = dataImporter.GetOutput().GetOrigin()</span>
        <span class="c1"># volume = vtk.vtkImageData()</span>
        <span class="c1"># volume.ShallowCopy(dicomReader.GetOutput())</span>

        <span class="p">(</span><span class="n">xMin</span><span class="p">,</span> <span class="n">xMax</span><span class="p">,</span> <span class="n">zMin</span><span class="p">,</span> <span class="n">zMax</span><span class="p">,</span> <span class="n">yMin</span><span class="p">,</span> <span class="n">yMax</span><span class="p">)</span> <span class="o">=</span> <span class="n">dicomReader</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">()</span>
        <span class="p">(</span><span class="n">xSpacing</span><span class="p">,</span> <span class="n">ySpacing</span><span class="p">,</span> <span class="n">zSpacing</span><span class="p">)</span> <span class="o">=</span> <span class="n">dicomReader</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">()</span>
        <span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span><span class="p">)</span> <span class="o">=</span> <span class="n">dicomReader</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span><span class="o">.</span><span class="n">GetOrigin</span><span class="p">()</span>

        <span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span> <span class="o">+</span> <span class="n">xSpacing</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">xMin</span> <span class="o">+</span> <span class="n">xMax</span><span class="p">),</span>
                  <span class="n">y0</span> <span class="o">+</span> <span class="n">ySpacing</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">yMin</span> <span class="o">+</span> <span class="n">yMax</span><span class="p">),</span>
                  <span class="n">z0</span> <span class="o">+</span> <span class="n">zSpacing</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">zMin</span> <span class="o">+</span> <span class="n">zMax</span><span class="p">)]</span>
        <span class="c1"># sliceSpacing = dataImporter.GetOutput().GetSpacing()[2]</span>

        <span class="c1"># center = center_input</span>
        <span class="c1"># if view = &quot;3_views&quot;:</span>

        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;axial&quot;</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">transform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkMatrix4x4</span><span class="p">()</span>
            <span class="n">transform</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;coronal&quot;</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">transform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkMatrix4x4</span><span class="p">()</span>
            <span class="n">transform</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;sagittal&quot;</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="n">transform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkMatrix4x4</span><span class="p">()</span>
            <span class="n">transform</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># for i in range(3):</span>
        <span class="n">median</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageMedian3D</span><span class="p">()</span>
        <span class="n">median</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">dicomReader</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">median</span><span class="o">.</span><span class="n">SetKernelSize</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">dicomReader</span> <span class="o">=</span> <span class="n">median</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageReslice</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">median</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">SetOutputDimensionality</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">SetResliceAxes</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span>
        <span class="c1"># reslice.AutoCropOutputOn ()</span>
        <span class="c1"># reslice.WrapOn()</span>
        <span class="c1"># reslice.SetOutputExtent(xMin,xMax,zMin,zMax,yMin,yMax)</span>
        <span class="c1"># print(self.listOfRenderers[i].GetDisplayPoint())</span>
        <span class="c1"># reslice.SetInterpolationModeToLinear()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
        <span class="c1"># matrix = reslice.GetResliceAxes()</span>
        <span class="c1"># new_center = matrix.MultiplyPoint((0, 0,sliceSpacing * (i), 1))</span>
        <span class="c1"># print(sliceSpacing * (i))</span>
        <span class="c1"># print(center)</span>
        <span class="c1"># matrix.SetElement(0, 3, new_center[0])</span>
        <span class="c1"># matrix.SetElement(1, 3, new_center[1])</span>
        <span class="c1"># matrix.SetElement(2, 3, new_center[2])</span>

        <span class="c1"># table = vtk.vtkLookupTable()</span>
        <span class="c1"># table.SetRange(0, maximum)  # image intensity range</span>
        <span class="c1"># # table.SetHueRange(0.666667, 0.0)</span>
        <span class="c1"># # table.SetSaturationRange(0.8, 0.8)</span>
        <span class="c1"># # table.SetValueRange(1.0, 1.0)</span>
        <span class="c1"># # table.SetAlphaRange(0.5, 1.0)</span>
        <span class="c1"># table.SetNumberOfColors(1025)</span>
        <span class="c1"># table.Build()</span>
        <span class="c1">#</span>
        <span class="c1"># # Map the image through the lookup table</span>

        <span class="n">planeColors</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageMapToColors</span><span class="p">()</span>
        <span class="n">planeColors</span><span class="o">.</span><span class="n">SetLookupTable</span><span class="p">(</span><span class="n">colorTransferFunction</span><span class="p">)</span>
        <span class="n">planeColors</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resliced_main_window</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">planeColors</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>

        <span class="c1"># Display the image</span>
        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">GetMapper</span><span class="p">()</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">planeColors</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">actor</span><span class="o">.</span><span class="n">GetDisplayExtent</span><span class="p">())</span>
        <span class="c1"># actor.SetScale(0.5, 0.5, 0.5)</span>
        <span class="c1"># actor.SetDisplayExtent(xMin,xMax,zMin,zMax,yMin,yMax)</span>
        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;axial&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">ParallelProjectionOn</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">SetParallelScale</span><span class="p">(</span><span class="n">center</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_axial&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">actor</span>

            <span class="c1"># distancetofocal = camera.GetDistance()</span>
            <span class="c1"># new_coordinates = np.array([-0.2, -1, 1]) * distancetofocal</span>
            <span class="c1"># camera.SetPosition(new_coordinates)</span>
            <span class="c1"># # center_volume = self.Volume4VTK.GetCenter()</span>
            <span class="c1"># # print(center_volume)</span>
            <span class="c1"># center_volume = [0, 0, 0]</span>
            <span class="c1"># camera.SetFocalPoint(center_volume)</span>

            <span class="c1"># self.listOfRenderers[1].GetActiveCamera().SetClippingRange()</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">GetClippingRange</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;coronal&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">ParallelProjectionOn</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">SetParallelScale</span><span class="p">(</span><span class="n">center</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_coronal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">actor</span>

        <span class="k">if</span> <span class="n">cutted_plane</span> <span class="o">==</span> <span class="s2">&quot;sagittal&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">ParallelProjectionOn</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span><span class="o">.</span><span class="n">SetParallelScale</span><span class="p">(</span><span class="n">center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actorInMain</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;PET_sagittal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">actor</span></div>


        <span class="c1"># self.listOfRenderers[i].AddActor(actor)</span>
        <span class="c1"># self.listOfRenderers[i].ResetCamera()</span>
        <span class="c1"># cam = self.listOfRenderers[i].GetActiveCamera()</span>
        <span class="c1"># transform_camera = vtk.vtkTransform()</span>
        <span class="c1"># transform_camera.Scale(2, 2, 2)</span>

        <span class="c1"># cam.SetModelTransformMatrix(transform_camera.GetMatrix())</span>
        <span class="c1"># self.listOfRenderers[i].ResetCameraClippingRange (xMin,xMax,zMin,zMax,yMin,yMax)</span>
        <span class="c1"># print(self.listOfRenderers[i].GetDistance ())</span>

        <span class="c1"># self.listOfRenderers[i].ResetCamera()</span>
        <span class="c1"># actor.SetUserTransform(FOV_trans)</span>
        <span class="c1"># actor.RotateWXYZ(90, 0, 0, 1)</span>
        <span class="c1"># (xMin, xMax, zMin, zMax, yMin, yMax)=dataImporter.GetExecutive().GetWholeExtent(dataImporter.GetOutputInformation(0))</span>
        <span class="c1"># w=xMax</span>
        <span class="c1"># d=zMax</span>
        <span class="c1"># h=yMax</span>
        <span class="c1"># if cutted_plane == &quot;axial&quot;:</span>
        <span class="c1">#     displayExtent=[[0, w], [int(d / 2), int(d / 2)], [0, h]]</span>
        <span class="c1"># #displayExtent=[[0, w], [0, d], [int(h / 2), int(h / 2)]]</span>
        <span class="c1"># if cutted_plane == &quot;coronal&quot;:</span>
        <span class="c1">#     displayExtent=[[0, w], [0, d], [int(h / 2), int(h / 2)]]</span>
        <span class="c1"># if cutted_plane == &quot;sagittal&quot;:</span>
        <span class="c1">#     displayExtent = [[0, w], [0, d], [int(h / 2), int(h / 2)]]</span>
        <span class="c1">#     actor.RotateWXYZ(90, 0, 0, 1)</span>
        <span class="c1">#</span>
        <span class="c1"># # displayExtent=[[30,30], [0, d], [0, h]]</span>
        <span class="c1"># actor.SetDisplayExtent(displayExtent[0][0], displayExtent[0][1], displayExtent[1][0], displayExtent[1][1],</span>
        <span class="c1">#                  displayExtent[2][0], displayExtent[2][1])</span>
        <span class="c1"># if cutted_plane == &quot;axial&quot;:</span>

        <span class="c1"># matrix= [None]*36</span>
        <span class="c1">#</span>
        <span class="c1"># # move the center point that we are slicing through</span>
        <span class="c1">#</span>
        <span class="c1">#</span>
        <span class="c1"># for i in range(36):</span>
        <span class="c1">#</span>
        <span class="c1">#     reslice.Update()</span>
        <span class="c1">#</span>
        <span class="c1">#     sliceSpacing = reslice.GetOutput().GetSpacing()[2]</span>
        <span class="c1">#     matrix = reslice.GetResliceAxes()</span>
        <span class="c1">#     center = matrix.MultiplyPoint((0, 0, sliceSpacing * (i-18), 1))</span>
        <span class="c1">#     matrix.SetElement(0, 3, center[0])</span>
        <span class="c1">#     matrix.SetElement(1, 3, center[2])</span>
        <span class="c1">#     matrix.SetElement(2, 3, center[1])</span>
        <span class="c1">#     reslice.Update()</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().Render()</span>

        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleImage()</span>
        <span class="c1"># interactorStyleImage.SetInteractionModeToImageSlicing()</span>

        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleRubberBand3D()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleRubberBand2D()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleAreaSelectHover()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleDrawPolygon()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleRubberBand3D()</span>
        <span class="c1"># interactorStyleImage = vtk.vtkInteractorStyleSwitch()</span>
        <span class="c1"># self.vtkWidget.GetRenderWindow().GetInteractor().SetInteractorStyle(interactorStyleImage)</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.design_scalar_bar">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.design_scalar_bar">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">design_scalar_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colorTransferFunction</span><span class="p">,</span> <span class="n">renderInteractor</span><span class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTextProperty</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">SetFontSize</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">scalar_bar</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkScalarBarActor</span><span class="p">()</span>
        <span class="c1"># scalar_bar.SetOrientationToHorizontal()</span>
        <span class="n">scalar_bar</span><span class="o">.</span><span class="n">SetLookupTable</span><span class="p">(</span><span class="n">colorTransferFunction</span><span class="p">)</span>
        <span class="n">scalar_bar</span><span class="o">.</span><span class="n">SetNumberOfLabels</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">scalar_bar</span><span class="o">.</span><span class="n">SetLabelFormat</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="c1"># scalar_bar.SetLabelTextProperty(label)</span>

        <span class="n">scalar_bar_widget</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkScalarBarWidget</span><span class="p">()</span>
        <span class="n">scalar_bar_widget</span><span class="o">.</span><span class="n">SetScalarBarActor</span><span class="p">(</span><span class="n">scalar_bar</span><span class="p">)</span>
        <span class="n">scalar_bar_widget</span><span class="o">.</span><span class="n">SetInteractor</span><span class="p">(</span><span class="n">renderInteractor</span><span class="p">)</span>
        <span class="n">scalar_bar_widget</span><span class="o">.</span><span class="n">SetCurrentRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">scalarBarRep</span> <span class="o">=</span> <span class="n">scalar_bar_widget</span><span class="o">.</span><span class="n">GetRepresentation</span><span class="p">()</span>
        <span class="n">scalarBarRep</span><span class="o">.</span><span class="n">SetOrientation</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># 0 = Horizontal, 1 = Vertical</span>
        <span class="n">scalarBarRep</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="mf">0.87</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)</span>
        <span class="n">scalarBarRep</span><span class="o">.</span><span class="n">SetPosition2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="n">scalar_bar_widget</span><span class="o">.</span><span class="n">On</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">scalar_bar_widget</span><span class="p">,</span> <span class="n">scalar_bar</span></div>


<div class="viewcode-block" id="PopulateMainWindowVTK.design_axes">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.design_axes">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">design_axes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="p">[]):</span>
        <span class="c1"># renderInteractor=self.vtkWidget.GetRenderWindow().GetInteractor()#</span>
        <span class="n">renderInteractor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interactorMainWindow</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkAxesActor</span><span class="p">()</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">SetXAxisLabelText</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">SetYAxisLabelText</span><span class="p">(</span><span class="s1">&#39;I&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">SetZAxisLabelText</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
        <span class="c1"># axes.GetXAxisShaftProperty().SetColor(1, 1, 0)</span>
        <span class="c1"># axes.GetXAxisTipProperty().SetColor(1, 1, 0)</span>
        <span class="c1"># axes.GetYAxisShaftProperty().SetColor(1, 1, 0)</span>
        <span class="c1"># axes.GetYAxisTipProperty().SetColor(1, 1, 0)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">GetZAxisShaftProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">GetZAxisTipProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkOrientationMarkerWidget</span><span class="p">()</span>

        <span class="n">widget</span><span class="o">.</span><span class="n">SetOrientationMarker</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">SetInteractor</span><span class="p">(</span><span class="n">renderInteractor</span><span class="p">)</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">SetCurrentRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">SetViewport</span><span class="p">(</span><span class="o">-</span><span class="mf">.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.30</span><span class="p">)</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">SetEnabled</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">InteractiveOff</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">axes</span></div>


<div class="viewcode-block" id="PopulateMainWindowVTK.camera_initial_position">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.camera_initial_position">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">camera_initial_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">camera</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">Zoom</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>

        <span class="c1"># camera.SetClippingRange(21.9464, 30.0179)</span>

        <span class="c1"># camera.SetFocalPoint(3.49221, 2.28844, -0.970866)</span>
        <span class="n">distancetofocal</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">GetDistance</span><span class="p">()</span>
        <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="n">new_coordinates</span><span class="p">)</span>
        <span class="c1"># center_volume = self.Volume4VTK.GetCenter()</span>
        <span class="c1"># print(center_volume)</span>
        <span class="n">center_volume</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetFocalPoint</span><span class="p">(</span><span class="n">center_volume</span><span class="p">)</span>

        <span class="n">camera</span><span class="o">.</span><span class="n">SetViewUp</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">Azimuth</span><span class="p">(</span><span class="o">-</span><span class="mi">60</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">Yaw</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">Roll</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">OrthogonalizeViewUp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>

        <span class="n">renderWin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span>
        <span class="n">renderWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span>  <span class="c1"># camera.SetViewAngle(30)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">camera</span><span class="o">.</span><span class="n">GetPosition</span><span class="p">())</span></div>


        <span class="c1"># self.ren_volume.GetActiveCamera().Yaw(90)</span>
        <span class="c1"># self.ren_volume.GetActiveCamera().Azimuth(90)</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.camera_rotation">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.camera_rotation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">camera_rotation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sender</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_t</span><span class="o">.</span><span class="n">sender</span><span class="p">()</span>

        <span class="n">camera_rotation_button_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">changecamera2left_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2right_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2bottom_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2top_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2front_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2back_toolbutton</span><span class="p">]</span>
        <span class="n">camera_rotation_button</span> <span class="o">=</span> <span class="n">camera_rotation_button_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">sender</span><span class="p">)</span>
        <span class="n">camera</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span>

        <span class="n">distancetofocal</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">GetDistance</span><span class="p">()</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>

            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="mi">90</span>



        <span class="k">elif</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="o">-</span><span class="mi">90</span>


        <span class="k">elif</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="mi">180</span>

        <span class="k">elif</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">camera_rotation_button</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">new_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">view_up_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">distancetofocal</span>
            <span class="n">rotation</span> <span class="o">=</span> <span class="mi">180</span>

        <span class="n">camera</span><span class="o">.</span><span class="n">SetPosition</span><span class="p">(</span><span class="n">new_coordinates</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetFocalPoint</span><span class="p">(</span><span class="n">new_coordinates</span> <span class="o">/</span> <span class="n">distancetofocal</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetViewUp</span><span class="p">(</span><span class="n">view_up_coordinates</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetViewAngle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">camera</span><span class="o">.</span><span class="n">SetRoll</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
        <span class="c1"># camera.Azimuth(0)</span>
        <span class="c1"># camera.Yaw(0)</span>
        <span class="c1"># camera.OrthogonalizeViewUp()</span>
        <span class="c1"># camera.ParallelProjectionOn()</span>

        <span class="c1">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listOfRenderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vtkWidget</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>


        <span class="c1"># ##### FUTURE to movei rotation #####</span>
        <span class="c1"># focal_point = camera.GetFocalPoint()</span>
        <span class="c1"># view_up = camera.GetViewUp()</span>
        <span class="c1"># position = camera.GetPosition()</span>
        <span class="c1">#</span>
        <span class="c1"># axis = [0, 0, 0]</span>
        <span class="c1"># axis[0] = -1 * camera.GetViewTransformMatrix().GetElement(0, 0)</span>
        <span class="c1"># axis[1] = -1 * camera.GetViewTransformMatrix().GetElement(0, 1)</span>
        <span class="c1"># axis[2] = -1 * camera.GetViewTransformMatrix().GetElement(0, 2)</span>
        <span class="c1">#</span>
        <span class="c1"># print(position, focal_point, view_up,)</span>
        <span class="c1">#</span>
        <span class="c1"># print(camera.GetViewTransformMatrix())</span>
        <span class="c1"># print(camera.GetViewTransformMatrix().GetElement(0, 0))</span>
        <span class="c1"># print(camera.GetViewTransformMatrix().GetElement(0, 1))</span>
        <span class="c1"># print(camera.GetViewTransformMatrix().GetElement(0, 2))</span>
        <span class="c1"># for n, q in enumerate([10] * 90):</span>
        <span class="c1">#     transform = vtk.vtkTransform()</span>
        <span class="c1">#     transform.Identity()</span>
        <span class="c1">#</span>
        <span class="c1">#     transform.Translate(*center)</span>
        <span class="c1">#     transform.RotateWXYZ(q, view_up)</span>
        <span class="c1">#     transform.RotateWXYZ(0, axis)</span>
        <span class="c1">#     transform.Translate(*[-1 * x for x in center])</span>
        <span class="c1">#</span>
        <span class="c1">#     new_position = [0, 0, 0]</span>
        <span class="c1">#     new_focal_point = [0, 0, 0]</span>
        <span class="c1">#     transform.TransformPoint(position, new_position)</span>
        <span class="c1">#     transform.TransformPoint(focal_point, new_focal_point)</span>
        <span class="c1">#</span>
        <span class="c1">#     camera.SetPosition(new_position)</span>
        <span class="c1">#     camera.SetFocalPoint(new_focal_point)</span>
        <span class="c1">#</span>
        <span class="c1">#     focal_point = camera.GetFocalPoint()</span>
        <span class="c1">#     view_up = camera.GetViewUp()</span>
        <span class="c1">#     position = camera.GetPosition()</span>
        <span class="c1">#</span>
        <span class="c1">#     camera.OrthogonalizeViewUp()</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.design_stl_file">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.design_stl_file">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">design_stl_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename_stl</span><span class="p">,</span> <span class="n">translate_x</span><span class="p">,</span> <span class="n">translate_y</span><span class="p">,</span> <span class="n">translate_z</span><span class="p">,</span> <span class="n">rotate_x</span><span class="p">,</span> <span class="n">rotate_y</span><span class="p">,</span> <span class="n">rotate_z</span><span class="p">,</span>
                        <span class="n">color_actor</span><span class="p">,</span> <span class="n">opacity_actor</span><span class="p">):</span>
        <span class="n">path_stl</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_stl</span><span class="p">,</span> <span class="s1">&#39;dataFiles&#39;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.stl&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename_stl</span><span class="p">))</span>

        <span class="n">reader</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSTLReader</span><span class="p">()</span>
        <span class="n">reader</span><span class="o">.</span><span class="n">SetFileName</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

        <span class="n">transL1</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
        <span class="c1"># transL1.Translate(-10, 150, -10)</span>
        <span class="n">transL1</span><span class="o">.</span><span class="n">RotateX</span><span class="p">(</span><span class="n">rotate_x</span><span class="p">)</span>
        <span class="n">transL1</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">translate_x</span><span class="p">,</span> <span class="n">translate_y</span><span class="p">,</span> <span class="n">translate_z</span><span class="p">)</span>
        <span class="c1"># transL1.Scale(5, 5, 5)</span>

        <span class="c1"># Move the label to a new position.</span>
        <span class="n">labelTransform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransformPolyDataFilter</span><span class="p">()</span>
        <span class="n">labelTransform</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">transL1</span><span class="p">)</span>
        <span class="n">labelTransform</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="n">mapper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">labelTransform</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="n">color_actor</span><span class="p">)</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetOpacity</span><span class="p">(</span><span class="n">opacity_actor</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">actor</span></div>


    <span class="c1"># def volume_update(self):</span>
    <span class="c1">#     # Updates data of the volume if dimensions are the same</span>
    <span class="c1">#</span>
    <span class="c1">#     volumeMapper = self.Volume4VTK.GetMapper()</span>
    <span class="c1">#     data3D = self.volume</span>
    <span class="c1">#     data3D = np.flip(data3D, axis=2)</span>
    <span class="c1">#     size = data3D.shape</span>
    <span class="c1">#     updatedata_image = volumeMapper.GetDataSetInput()</span>
    <span class="c1">#</span>
    <span class="c1">#     w = size[0]</span>
    <span class="c1">#     h = size[1]</span>
    <span class="c1">#     d = size[2]</span>
    <span class="c1">#     stack = np.zeros((w, d, h))</span>
    <span class="c1">#</span>
    <span class="c1">#     for j in range(0, d):</span>
    <span class="c1">#         stack[:, j, :] = data3D[:, :, j]</span>
    <span class="c1">#</span>
    <span class="c1">#     stack = np.require(stack, dtype=np.float32)</span>
    <span class="c1">#     dataImporter = vtk.vtkImageImport()</span>
    <span class="c1">#     # The preaviusly created array is converted to a string of chars and imported.</span>
    <span class="c1">#     data_string = stack.tostring()</span>
    <span class="c1">#     dataImporter.CopyImportVoidPointer(data_string, len(data_string))</span>
    <span class="c1">#     #dataImporter.SetDataScalarTypeToUnsignedShort()</span>
    <span class="c1">#     dataImporter.SetDataScalarTypeToFloat()</span>
    <span class="c1">#     dataImporter.SetDataSpacing(.pixel_size_reconstruct_file[0], self.pixel_size_reconstruct_file[2],</span>
    <span class="c1">#                                 self.pixel_size_reconstruct_file[1])</span>
    <span class="c1">#     # Because the data that is imported only contains an intensity value (it isnt RGB-coded or someting similar), the importer</span>
    <span class="c1">#     # must be told this is the case.</span>
    <span class="c1">#     dataImporter.SetNumberOfScalarComponents(1)</span>
    <span class="c1">#     # ---------------STORE DATA-------------------------------</span>
    <span class="c1">#     dataImporter.SetDataExtent(0, w - 1, 0, d - 1, 0, h - 1)</span>
    <span class="c1">#     dataImporter.SetWholeExtent(0, w - 1, 0, d - 1, 0, h - 1)</span>
    <span class="c1">#</span>
    <span class="c1">#     # -----------------------Scalar range-------------</span>
    <span class="c1">#     #dataImporter.Modified()</span>
    <span class="c1">#     dataImporter.Update()</span>
    <span class="c1">#     new_data = dataImporter.GetOutput().GetPointData().GetScalars()</span>
    <span class="c1">#     updatedata_image.GetPointData().SetScalars(new_data)</span>
    <span class="c1">#     #dataImporter.SetInputConnection(dataImporter.GetOutputPort())</span>
    <span class="c1">#     #updatedata_image.Modified()</span>
    <span class="c1">#     #updatedata_image.Update()</span>
    <span class="c1">#</span>
    <span class="c1">#     #volumeMapper.SetInputConnection(dataImporter.GetOutputPort())</span>
    <span class="c1">#     #volumeMapper.Modified()</span>
    <span class="c1">#     #volumeMapper.Update()</span>
    <span class="c1">#     #self.Volume4VTK.SetMapper(volumeMapper)</span>
    <span class="c1">#     #image_3D_handler.update_volume_colors(self)</span>
    <span class="c1">#     self.Volume4VTK.Update()</span>
    <span class="c1">#     self.renderWin.Render()</span>
    <span class="c1">#</span>
    <span class="c1"># # Control of which volume is selected</span>

<div class="viewcode-block" id="PopulateMainWindowVTK.hide_qt_buttons">
<a class="viewcode-back" href="../../../ControlUI.Visualization.html#ControlUI.Visualization.mainvisualization.PopulateMainWindowVTK.hide_qt_buttons">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">hide_qt_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hide_camera_buttons</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hide_bed_buttons</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">camera_rotation_button_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">changecamera2left_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2right_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2bottom_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2top_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2front_toolbutton</span><span class="p">,</span>
                                       <span class="bp">self</span><span class="o">.</span><span class="n">changecamera2back_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resetcamera_toolButton</span><span class="p">]</span>
        <span class="n">bed_buttons_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">movebed_to_begin_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">movebed_backward_toolbutton</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">movebed_foward_toolbutton</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">movebed_to_end_toolbutton</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">emergency_stop_bed_tool_button</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">hide_camera_buttons</span><span class="p">:</span>

            <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">camera_rotation_button_list</span><span class="p">:</span>
                <span class="n">button</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">camera_rotation_button_list</span><span class="p">:</span>
                <span class="n">button</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">hide_bed_buttons</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">bed_buttons_list</span><span class="p">:</span>
                <span class="n">button</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">bed_buttons_list</span><span class="p">:</span>
                <span class="n">button</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>
</div>

</pre></div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
       Copyright 2025, Pedro Encarnao.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>